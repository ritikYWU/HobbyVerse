{% extends 'base.html' %} {% block header %}

<h2>{% block title %}Explore{% endblock title %}</h2>

{% endblock header %} {% block content %}

<form method="get">
    {% for question in question %}
    <div class="question-card">
        <p style="font-weight: 700" id="question-{{ loop.index }}">
            {{ loop.index }}. {{ question['question'] }}
        </p>

        {% for option in question['options'] %}
        <input
            type="checkbox"
            name="ques{{question['id']}}"
            id="ques{{question['id']}}_check{{loop.index}}"
            value="{{option}}"
            onclick="selectOnlyThis(this.id, this.name)" 
            />
        <label for="option-{{ loop.index }}-{{ loop.inner }}"
            >{{ option }}</label
        ><br />
        {% endfor %}
    </div>
    {% endfor %}

    <button type="submit" onclick="showInput()">Submit</button>
</form>
<script language="JavaScript">
    function showInput() {
        var checkboxes = document.getElementsByTagName("input");
        var checkboxesChecked = [];
        for (var i = 0; i < checkboxes.length; i++) {
            if (checkboxes[i].checked) {
                checkboxesChecked.push(checkboxes[i].defaultValue);
                // checkboxesChecked[i] = checkboxes[i].defaultValue;
            }
        }
        console.log(checkboxesChecked)
        // var answers = {}
        // for(var i=1; i<=answers; i++){
        //   console.log(document.getElementsByName('ques'+i).defaultValue)
        //   // answers[i] = document.getElementsByName('ques'+i)[0].value
        // }
        // // console.log(answers)
        document.write('hello world')
    }

    function selectOnlyThis(id, name) {
        var myCheckbox = document.getElementsByName(name);
        
        for(var i=1; i<=myCheckbox.length; i++){
          if(document.getElementById(name+'_check'+i).value !=null){
            document.getElementById(name+"_check"+i).checked = false;
          }
          document.getElementById(id).checked = true
        }
    }
</script>

<!-- <p markdown="1">{{res}}</p> -->

{% endblock content %}
